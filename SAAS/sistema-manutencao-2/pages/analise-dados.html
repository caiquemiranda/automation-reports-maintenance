<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Análise de Dados - Sistema de Manutenção</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <div class="container">
        <!-- Top Bar -->
        <div class="top-bar">
            <div class="top-title">
                <h1>Análise de Dados</h1>
            </div>
            <div class="top-icons">
                <i class="fas fa-bars" id="sidebar-toggle"></i>
                <i class="fas fa-question-circle" id="help-icon"></i>
                <i class="fas fa-cog" id="settings-icon"></i>
                <i class="fas fa-user-circle" id="profile-icon"></i>
            </div>
        </div>

        <!-- Sidebar -->
        <div class="sidebar">
            <ul class="sidebar-menu">
                <li><a href="home.html"><i class="fas fa-home"></i> HOME</a></li>
                <li><a href="dashboard.html"><i class="fas fa-chart-line"></i> DASHBOARD</a></li>
                <li class="has-submenu">
                    <a href="#"><i class="fas fa-file-alt"></i> RAS</a>
                    <ul class="submenu">
                        <li><a href="ras.html">Relatório Análise de Solução</a></li>
                    </ul>
                </li>
                <li><a href="cronograma-anual.html"><i class="fas fa-calendar-alt"></i> CRONOGRAMA ANUAL</a></li>
                <li class="has-submenu">
                    <a href="#"><i class="fas fa-calendar-week"></i> CRONOGRAMA MENSAL</a>
                    <ul class="submenu">
                        <li><a href="cronograma-mensal.html">Com Funcionários</a></li>
                    </ul>
                </li>
                <li class="has-submenu">
                    <a href="#"><i class="fas fa-tools"></i> OS</a>
                    <ul class="submenu">
                        <li><a href="os-corretiva.html">Corretiva</a></li>
                        <li><a href="os-planejada.html">Planejada</a></li>
                        <li><a href="os-preventiva.html">Preventiva</a></li>
                    </ul>
                </li>
                <li><a href="report-mensal.html"><i class="fas fa-file-export"></i> REPORT MENSAL</a></li>
                <li><a href="report-diario.html"><i class="fas fa-exclamation-triangle"></i> REPORT DIÁRIO FALHAS</a>
                </li>
                <li class="has-submenu">
                    <a href="#"><i class="fas fa-map-marked-alt"></i> MAPA DISPOSITIVOS</a>
                    <ul class="submenu">
                        <li><a href="dispositivos.html">Mapa de Dispositivos</a></li>
                    </ul>
                </li>
                <li><a href="analise-dados.html"><i class="fas fa-chart-bar"></i> ANÁLISE DE DADOS</a></li>
                <li class="has-submenu">
                    <a href="#"><i class="fas fa-database"></i> DADOS</a>
                    <ul class="submenu">
                        <li><a href="dados-equipamentos.html">Equipamentos</a></li>
                        <li><a href="dados-funcionarios.html">Funcionários</a></li>
                        <li><a href="dados-relatorios.html">Relatórios</a></li>
                        <li><a href="dados-exportacao.html">Exportação</a></li>
                    </ul>
                </li>
            </ul>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="content">
                <h2>Análise de Dados do Sistema</h2>

                <div class="card-grid">
                    <!-- Card para Ordens de Serviço -->
                    <div class="data-card">
                        <div class="data-card-header">
                            <div class="data-card-icon">
                                <i class="fas fa-tools"></i>
                            </div>
                            <div class="data-card-title">Ordens de Serviço</div>
                        </div>
                        <div class="data-card-content">
                            <canvas id="osChart" height="150"></canvas>
                        </div>
                        <div class="data-card-footer">
                            <div class="data-card-value">42</div>
                            <div class="data-card-change positive">
                                <i class="fas fa-arrow-up"></i> 12%
                            </div>
                        </div>
                        <div class="data-card-actions">
                            <button onclick="window.location.href='dados-relatorios.html?tipo=os'">Ver detalhes</button>
                        </div>
                    </div>

                    <!-- Card para Manutenções Preventivas -->
                    <div class="data-card">
                        <div class="data-card-header">
                            <div class="data-card-icon">
                                <i class="fas fa-calendar-check"></i>
                            </div>
                            <div class="data-card-title">Manutenções Preventivas</div>
                        </div>
                        <div class="data-card-content">
                            <canvas id="preventivasChart" height="150"></canvas>
                        </div>
                        <div class="data-card-footer">
                            <div class="data-card-value">85%</div>
                            <div class="data-card-change positive">
                                <i class="fas fa-arrow-up"></i> 5%
                            </div>
                        </div>
                        <div class="data-card-actions">
                            <button onclick="window.location.href='dados-relatorios.html?tipo=preventivas'">Ver
                                detalhes</button>
                        </div>
                    </div>

                    <!-- Card para Disponibilidade de Equipamentos -->
                    <div class="data-card">
                        <div class="data-card-header">
                            <div class="data-card-icon">
                                <i class="fas fa-plug"></i>
                            </div>
                            <div class="data-card-title">Disponibilidade de Equipamentos</div>
                        </div>
                        <div class="data-card-content">
                            <canvas id="disponibilidadeChart" height="150"></canvas>
                        </div>
                        <div class="data-card-footer">
                            <div class="data-card-value">98.2%</div>
                            <div class="data-card-change positive">
                                <i class="fas fa-arrow-up"></i> 0.5%
                            </div>
                        </div>
                        <div class="data-card-actions">
                            <button onclick="window.location.href='dados-equipamentos.html?filtro=disponibilidade'">Ver
                                detalhes</button>
                        </div>
                    </div>

                    <!-- Card para MTBF -->
                    <div class="data-card">
                        <div class="data-card-header">
                            <div class="data-card-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="data-card-title">MTBF (Tempo Médio Entre Falhas)</div>
                        </div>
                        <div class="data-card-content">
                            <canvas id="mtbfChart" height="150"></canvas>
                        </div>
                        <div class="data-card-footer">
                            <div class="data-card-value">180h</div>
                            <div class="data-card-change positive">
                                <i class="fas fa-arrow-up"></i> 15h
                            </div>
                        </div>
                        <div class="data-card-actions">
                            <button onclick="window.location.href='dados-relatorios.html?tipo=mtbf'">Ver
                                detalhes</button>
                        </div>
                    </div>

                    <!-- Card para MTTR -->
                    <div class="data-card">
                        <div class="data-card-header">
                            <div class="data-card-icon">
                                <i class="fas fa-wrench"></i>
                            </div>
                            <div class="data-card-title">MTTR (Tempo Médio para Reparo)</div>
                        </div>
                        <div class="data-card-content">
                            <canvas id="mttrChart" height="150"></canvas>
                        </div>
                        <div class="data-card-footer">
                            <div class="data-card-value">4.2h</div>
                            <div class="data-card-change negative">
                                <i class="fas fa-arrow-down"></i> 0.8h
                            </div>
                        </div>
                        <div class="data-card-actions">
                            <button onclick="window.location.href='dados-relatorios.html?tipo=mttr'">Ver
                                detalhes</button>
                        </div>
                    </div>

                    <!-- Card para Custos de Manutenção -->
                    <div class="data-card">
                        <div class="data-card-header">
                            <div class="data-card-icon">
                                <i class="fas fa-dollar-sign"></i>
                            </div>
                            <div class="data-card-title">Custos de Manutenção</div>
                        </div>
                        <div class="data-card-content">
                            <canvas id="custosChart" height="150"></canvas>
                        </div>
                        <div class="data-card-footer">
                            <div class="data-card-value">R$ 45.820</div>
                            <div class="data-card-change negative">
                                <i class="fas fa-arrow-down"></i> 3%
                            </div>
                        </div>
                        <div class="data-card-actions">
                            <button onclick="window.location.href='dados-relatorios.html?tipo=custos'">Ver
                                detalhes</button>
                        </div>
                    </div>

                    <!-- Card para Produtividade de Técnicos -->
                    <div class="data-card">
                        <div class="data-card-header">
                            <div class="data-card-icon">
                                <i class="fas fa-user-cog"></i>
                            </div>
                            <div class="data-card-title">Produtividade de Técnicos</div>
                        </div>
                        <div class="data-card-content">
                            <canvas id="produtividadeChart" height="150"></canvas>
                        </div>
                        <div class="data-card-footer">
                            <div class="data-card-value">92%</div>
                            <div class="data-card-change positive">
                                <i class="fas fa-arrow-up"></i> 4%
                            </div>
                        </div>
                        <div class="data-card-actions">
                            <button onclick="window.location.href='dados-funcionarios.html?filtro=produtividade'">Ver
                                detalhes</button>
                        </div>
                    </div>

                    <!-- Card para Análise de Falhas -->
                    <div class="data-card">
                        <div class="data-card-header">
                            <div class="data-card-icon">
                                <i class="fas fa-exclamation-triangle"></i>
                            </div>
                            <div class="data-card-title">Análise de Falhas</div>
                        </div>
                        <div class="data-card-content">
                            <canvas id="falhasChart" height="150"></canvas>
                        </div>
                        <div class="data-card-footer">
                            <div class="data-card-value">32</div>
                            <div class="data-card-change negative">
                                <i class="fas fa-arrow-down"></i> 15%
                            </div>
                        </div>
                        <div class="data-card-actions">
                            <button onclick="window.location.href='dados-relatorios.html?tipo=falhas'">Ver
                                detalhes</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="../js/script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Gráfico de Ordens de Serviço
            const osCtx = document.getElementById('osChart').getContext('2d');
            new Chart(osCtx, {
                type: 'bar',
                data: {
                    labels: ['Corretiva', 'Preventiva', 'Planejada'],
                    datasets: [{
                        label: 'Quantidade',
                        data: [18, 15, 9],
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.2)',
                            'rgba(75, 192, 192, 0.2)',
                            'rgba(255, 206, 86, 0.2)'
                        ],
                        borderColor: [
                            'rgba(255, 99, 132, 1)',
                            'rgba(75, 192, 192, 1)',
                            'rgba(255, 206, 86, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            display: false
                        },
                        x: {
                            display: true
                        }
                    }
                }
            });

            // Gráfico de Manutenções Preventivas
            const preventivasCtx = document.getElementById('preventivasChart').getContext('2d');
            new Chart(preventivasCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Realizadas', 'Pendentes'],
                    datasets: [{
                        data: [85, 15],
                        backgroundColor: [
                            'rgba(75, 192, 192, 0.2)',
                            'rgba(255, 99, 132, 0.2)'
                        ],
                        borderColor: [
                            'rgba(75, 192, 192, 1)',
                            'rgba(255, 99, 132, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });

            // Gráfico de Disponibilidade
            const disponibilidadeCtx = document.getElementById('disponibilidadeChart').getContext('2d');
            new Chart(disponibilidadeCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun'],
                    datasets: [{
                        label: 'Disponibilidade',
                        data: [97.8, 96.5, 97.2, 98.0, 98.5, 98.2],
                        fill: false,
                        borderColor: 'rgb(75, 192, 192)',
                        tension: 0.1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            min: 95,
                            max: 100,
                            display: false
                        },
                        x: {
                            display: false
                        }
                    }
                }
            });

            // Gráfico de MTBF
            const mtbfCtx = document.getElementById('mtbfChart').getContext('2d');
            new Chart(mtbfCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun'],
                    datasets: [{
                        label: 'MTBF (horas)',
                        data: [150, 155, 160, 170, 175, 180],
                        fill: false,
                        borderColor: 'rgb(54, 162, 235)',
                        tension: 0.1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            display: false
                        },
                        x: {
                            display: false
                        }
                    }
                }
            });

            // Gráfico de MTTR
            const mttrCtx = document.getElementById('mttrChart').getContext('2d');
            new Chart(mttrCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun'],
                    datasets: [{
                        label: 'MTTR (horas)',
                        data: [5.5, 5.2, 4.8, 4.5, 4.3, 4.2],
                        fill: false,
                        borderColor: 'rgb(255, 99, 132)',
                        tension: 0.1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            reverse: true,
                            display: false
                        },
                        x: {
                            display: false
                        }
                    }
                }
            });

            // Gráfico de Custos
            const custosCtx = document.getElementById('custosChart').getContext('2d');
            new Chart(custosCtx, {
                type: 'bar',
                data: {
                    labels: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun'],
                    datasets: [{
                        label: 'Custo (R$)',
                        data: [52000, 48000, 50000, 47500, 46300, 45820],
                        backgroundColor: 'rgba(153, 102, 255, 0.2)',
                        borderColor: 'rgba(153, 102, 255, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            display: false
                        },
                        x: {
                            display: false
                        }
                    }
                }
            });

            // Gráfico de Produtividade
            const produtividadeCtx = document.getElementById('produtividadeChart').getContext('2d');
            new Chart(produtividadeCtx, {
                type: 'radar',
                data: {
                    labels: ['OS Concluídas', 'Tempo Médio', 'Qualidade', 'Feedback', 'Treinamentos'],
                    datasets: [{
                        label: 'Desempenho',
                        data: [92, 88, 95, 85, 80],
                        backgroundColor: 'rgba(54, 162, 235, 0.2)',
                        borderColor: 'rgba(54, 162, 235, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        r: {
                            angleLines: {
                                display: false
                            },
                            suggestedMin: 50,
                            suggestedMax: 100,
                            ticks: {
                                display: false
                            }
                        }
                    }
                }
            });

            // Gráfico de Falhas
            const falhasCtx = document.getElementById('falhasChart').getContext('2d');
            new Chart(falhasCtx, {
                type: 'pie',
                data: {
                    labels: ['Mecânica', 'Elétrica', 'Operacional', 'Software', 'Outros'],
                    datasets: [{
                        data: [12, 8, 5, 4, 3],
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.2)',
                            'rgba(54, 162, 235, 0.2)',
                            'rgba(255, 206, 86, 0.2)',
                            'rgba(75, 192, 192, 0.2)',
                            'rgba(153, 102, 255, 0.2)'
                        ],
                        borderColor: [
                            'rgba(255, 99, 132, 1)',
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 206, 86, 1)',
                            'rgba(75, 192, 192, 1)',
                            'rgba(153, 102, 255, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
        });
    </script>
</body>

</html>